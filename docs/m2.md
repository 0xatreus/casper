# M2 Safe Scale

## Goal

Scale execution without losing safety, stability, or auditability.

## M2 Deliverables

### Job queue + workers
- Run scans asynchronously using Celery/RQ + Redis.
- Track task status and failures.

### Budgets and limits
- Per-target budgets: requests/sec, concurrency, max runtime, max depth.
- Enforce allowlists and deny lists.

### Plugin isolation
- Run modules in subprocesses or sandboxed runners.
- Time and memory limits prevent runaway plugins.

### Deterministic scans
- Record module versions and config hash per scan.
- Enable reproducible scans and comparisons.

## Data Model Additions (Suggested)

- ScanRun or Task table to track worker execution.
- TargetPolicy table for budgets, allowlists, consent.
- PluginVersion table or ScanConfigHash.

## Operational Requirements

- Workers must be horizontally scalable.
- Failures should be isolated and reported in audit logs.

## Definition of Done

- Distributed scans run reliably and safely.
- One plugin crash does not kill the entire scan.
- Every scan has plugin versions + config hash recorded.
